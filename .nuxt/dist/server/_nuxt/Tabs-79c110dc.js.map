{"version":3,"file":"Tabs-79c110dc.js","sources":["../../../../node_modules/nuxt/dist/app/components/client-only.js","../../../../components/awesome/Tabs.vue"],"sourcesContent":["import { createElementBlock, createElementVNode, defineComponent, h, mergeProps, onMounted, ref } from \"vue\";\nexport default defineComponent({\n  name: \"ClientOnly\",\n  inheritAttrs: false,\n  // eslint-disable-next-line vue/require-prop-types\n  props: [\"fallback\", \"placeholder\", \"placeholderTag\", \"fallbackTag\"],\n  setup(_, { slots, attrs }) {\n    const mounted = ref(false);\n    onMounted(() => {\n      mounted.value = true;\n    });\n    return (props) => {\n      if (mounted.value) {\n        return slots.default?.();\n      }\n      const slot = slots.fallback || slots.placeholder;\n      if (slot) {\n        return slot();\n      }\n      const fallbackStr = props.fallback || props.placeholder || \"\";\n      const fallbackTag = props.fallbackTag || props.placeholderTag || \"span\";\n      return createElementBlock(fallbackTag, attrs, fallbackStr);\n    };\n  }\n});\nconst cache = /* @__PURE__ */ new WeakMap();\n/*! @__NO_SIDE_EFFECTS__ */\nexport function createClientOnly(component) {\n  if (cache.has(component)) {\n    return cache.get(component);\n  }\n  const clone = { ...component };\n  if (clone.render) {\n    clone.render = (ctx, ...args) => {\n      if (ctx.mounted$) {\n        const res = component.render(ctx, ...args);\n        return res.children === null || typeof res.children === \"string\" ? createElementVNode(res.type, res.props, res.children, res.patchFlag, res.dynamicProps, res.shapeFlag) : h(res);\n      } else {\n        return h(\"div\", mergeProps(ctx.$attrs ?? ctx._.attrs, { key: \"placeholder-key\" }));\n      }\n    };\n  } else if (clone.template) {\n    clone.template = `\n      <template v-if=\"mounted$\">${component.template}</template>\n      <template v-else><div></div></template>\n    `;\n  }\n  clone.setup = (props, ctx) => {\n    const mounted$ = ref(false);\n    onMounted(() => {\n      mounted$.value = true;\n    });\n    return Promise.resolve(component.setup?.(props, ctx) || {}).then((setupState) => {\n      return typeof setupState !== \"function\" ? { ...setupState, mounted$ } : (...args) => {\n        if (mounted$.value) {\n          const res = setupState(...args);\n          return res.children === null || typeof res.children === \"string\" ? createElementVNode(res.type, res.props, res.children, res.patchFlag, res.dynamicProps, res.shapeFlag) : h(res);\n        } else {\n          return h(\"div\", mergeProps(ctx.attrs, { key: \"placeholder-key\" }));\n        }\n      };\n    });\n  };\n  cache.set(component, clone);\n  return clone;\n}\n","<script lang=\"ts\" setup>\n// types\ninterface TabItem {\n  name: string\n  title: string\n}\n\n// composables\nconst slots = useSlots()\ndefineEmits(['click'])\n\n// vars\nconst tabs = ref<HTMLDivElement>()\nconst tabHeaderIndicator = ref<HTMLDivElement>()\nconst tabItems = ref<TabItem[]>([])\nconst activeTab = ref<string>()\n\n// provides\nprovide('activeTab', activeTab)\n\n// methods\nconst updateIndicator = () => {\n  if (!tabs.value || !tabHeaderIndicator.value) return\n\n  // dom\n  const dom = tabHeaderIndicator.value\n  // get header tab item dom\n  const currentActiveIndex = tabItems.value.findIndex(\n    ({ name }) => name === activeTab.value\n  )\n  const tabItem = tabs.value.querySelectorAll('.tabs-header-item')[\n    currentActiveIndex\n  ] as HTMLDivElement\n  if (!tabItem) return\n\n  // set dom position and size to tab item\n  const padding = 24\n  const diff = 30\n  dom.style.width = `${tabItem.offsetWidth + diff}px`\n  dom.style.left = `${tabItem.offsetLeft - padding - diff / 2}px`\n}\n\n// watchs\nwatch(tabItems, () => updateIndicator())\nwatch(activeTab, () => updateIndicator())\n\n// lifecycle\nonBeforeMount(() => {\n  if (slots.default) {\n    slots.default().forEach((element, i) => {\n      const tab = element.props as TabItem\n      tabItems.value.push(tab)\n      if (i === 0) activeTab.value = tab.name\n    })\n  }\n})\nonMounted(() => {\n  ;(async () => {\n    while (\n      typeof tabHeaderIndicator.value === 'undefined' ||\n      typeof tabs.value === 'undefined'\n    ) {\n      await new Promise((resolve) => setTimeout(resolve, 10))\n    }\n    setTimeout(() => {\n      updateIndicator()\n    }, 350)\n  })()\n})\n</script>\n\n<template>\n  <div ref=\"tabs\" class=\"tabs\">\n    <ClientOnly>\n      <div\n        class=\"tabs-header relative overflow-hidden flex space-x-6 text-sm font-bold text-gray-300 bg-primary-700 rounded-t-lg px-5 py-3\"\n      >\n        <div\n          v-for=\"item in tabItems\"\n          :key=\"item.name\"\n          :class=\"{\n            'tabs-header-item': true,\n            'text-white': activeTab === item.name,\n          }\"\n          :style=\"{\n            zIndex: 2,\n          }\"\n          @click=\"activeTab = item.name\"\n        >\n          <a href=\"#\" @click.prevent=\"$emit('click')\">\n            {{ item.title }}\n          </a>\n        </div>\n        <span\n          ref=\"tabHeaderIndicator\"\n          class=\"absolute flex h-full top-0 left-0 p-1 py-1.5 overflow-hidden transition-all duration-300\"\n          :style=\"{ zIndex: 1 }\"\n        >\n          <span class=\"flex-1 bg-gray-500/40 rounded-lg\" />\n        </span>\n      </div>\n    </ClientOnly>\n    <div\n      class=\"tabs-body relative text-gray-800 dark:text-white bg-gray-200 dark:bg-gray-800 shadow rounded-b-lg\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n"],"names":[],"mappings":";;AACA,MAAe,qDAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,cAAc;AAAA;AAAA,EAEd,OAAO,CAAC,YAAY,eAAe,kBAAkB,aAAa;AAAA,EAClE,MAAM,GAAG,EAAE,OAAO,MAAK,GAAI;AACzB,UAAM,UAAU,IAAI,KAAK;AAIzB,WAAO,CAAC,UAAU;;AAChB,UAAI,QAAQ,OAAO;AACjB,gBAAO,WAAM,YAAN;AAAA,MACR;AACD,YAAM,OAAO,MAAM,YAAY,MAAM;AACrC,UAAI,MAAM;AACR,eAAO,KAAI;AAAA,MACZ;AACD,YAAM,cAAc,MAAM,YAAY,MAAM,eAAe;AAC3D,YAAM,cAAc,MAAM,eAAe,MAAM,kBAAkB;AACjE,aAAO,mBAAmB,aAAa,OAAO,WAAW;AAAA,IAC/D;AAAA,EACG;AACH,CAAC;;;;;;AChBa,aAAS;AAIvB,UAAM,OAAO;AACb,UAAM,qBAAqB;AACrB,UAAA,WAAW,IAAe,CAAA,CAAE;AAClC,UAAM,YAAY;AAGlB,YAAQ,aAAa,SAAS;AAG9B,UAAM,kBAAkB,MAAM;AAC5B,UAAI,CAAC,KAAK,SAAS,CAAC,mBAAmB;AAAO;AAG9C,YAAM,MAAM,mBAAmB;AAEzB,YAAA,qBAAqB,SAAS,MAAM;AAAA,QACxC,CAAC,EAAE,KAAK,MAAM,SAAS,UAAU;AAAA,MAAA;AAEnC,YAAM,UAAU,KAAK,MAAM,iBAAiB,mBAAmB,EAC7D,kBACF;AACA,UAAI,CAAC;AAAS;AAGd,YAAM,UAAU;AAChB,YAAM,OAAO;AACb,UAAI,MAAM,QAAQ,GAAG,QAAQ,cAAc;AAC3C,UAAI,MAAM,OAAO,GAAG,QAAQ,aAAa,UAAU,OAAO;AAAA,IAAA;AAItD,UAAA,UAAU,MAAM,gBAAA,CAAiB;AACjC,UAAA,WAAW,MAAM,gBAAA,CAAiB;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0]}